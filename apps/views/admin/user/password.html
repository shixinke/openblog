
{-css-}
<link type="text/css" rel="stylesheet" href="/static/js/libs/jquery.xpassword/1.0.0/css/xpassword.css">
{-css-}
<!-- RIBBON -->
<div id="ribbon" class="page-header no-border">
    <div class="breadcrumb pull-left">
        <!--<h3><i class="iconfont icon-plus"></i> 添加 </a></h3>-->
    </div>
    <div class="breadcrumb pull-right">
        <ul class="toolbar">
            <li><a href="javascript:;" class="btn-refresh"><i class="iconfont icon-refresh"></i> 刷新</a></li>
        </ul>
    </div>
</div>
<!-- END RIBBON -->

<div class="content">
    <div class="page-content">
        {% if err and err ~= '' then %}
        <div class="alert alert-warning">
            <i class="iconfont icon-alert"></i> {{err}}
        </div>
        {% else %}
        <form id="profile-form" data-iframe="1" role="form"  method="POST">
            <input type="hidden" name="uid" value="{{info.uid}}">
            <div class="box-body box-profile">
                <div class="profile-avatar-container">
                    <input type="hidden" id="avatar-hidden" name="avatar" value="{% if info.avatar ~= '' then %}{{info.avatar}} {% else %}/static/images/avatar/1.jpg{% end %}">
                    <img class="profile-user-img img-responsive img-circle upload-preview" id="avatar-preview" src="{% if info.avatar ~= '' then %}{{info.avatar}} {% else %}/static/images/avatar/1.jpg{% end %}" alt="">

                </div>

                <div class="form-group">
                    <label for="nickname" class="control-label">昵称:</label>
                    <input type="text" id="nickname"  class="form-control" value="{{info.nickname}}" title="请填写昵称" readonly="readonly">
                    <div class="help-block" for="nickname"></div>
                </div>

                <div class="form-group">
                    <label  class="control-label">旧密码:</label>
                </div>

                <div class="form-group">
                    <input type="password" id="originalPassword" name="originalPassword" class="form-control password-wrapper required"  value="" title="请输入旧密码">
                    <div class="help-block" for="originalPassword"></div>
                </div>

                <div class="form-group">
                    <label class="control-label">新密码:</label>
                </div>

                <div class="form-group">
                    <input type="password" id="password" name="password" class="form-control password-wrapper required"  value="" title="请输入新密码" >
                    <div class="help-block" for="password"></div>
                </div>

                <div class="form-group">
                    <label  class="control-label">确认密码:</label>
                </div>

                <div class="form-group">
                    <input type="password" id="confirmPassword" name="confirmPassword" class="form-control password-wrapper required"  value="" data-msg-equalTo="两次输入密码不一致" data-rule-equalTo="#password" title="请输入确认密码" >
                    <div class="help-block" for="confirmPassword"></div>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn btn-success">提交</button>
                    <button type="reset" class="btn btn-default">重置</button>
                </div>

            </div>
        </form>
        {% end %}
    </div>
</div>


{-script-}
<script type="text/javascript">
    require(['jquery', 'fn', 'jquery.xpassword'], function($, fn){
        fn.refreshPage();
        $('.password-wrapper').xPassword({strength : true});

        fn.validateForm('profile-form');
    })
</script>
{-script-}
